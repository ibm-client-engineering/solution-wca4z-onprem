<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Create/linux_setup" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Linux VM Setup | WCA4Z On-Prem</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ibm-client-engineering.github.io/solution-wca4z-onprem/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ibm-client-engineering.github.io/solution-wca4z-onprem/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ibm-client-engineering.github.io/solution-wca4z-onprem/Create/linux_setup"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="ibm client engineering, open solutions library"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Linux VM Setup | WCA4Z On-Prem"><meta data-rh="true" name="description" content="Software Setup and Configuration for Refactor"><meta data-rh="true" property="og:description" content="Software Setup and Configuration for Refactor"><link data-rh="true" rel="icon" href="/solution-wca4z-onprem/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ibm-client-engineering.github.io/solution-wca4z-onprem/Create/linux_setup"><link data-rh="true" rel="alternate" href="https://ibm-client-engineering.github.io/solution-wca4z-onprem/Create/linux_setup" hreflang="en"><link data-rh="true" rel="alternate" href="https://ibm-client-engineering.github.io/solution-wca4z-onprem/Create/linux_setup" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/solution-wca4z-onprem/flight-logs/rss.xml" title="WCA4Z On-Prem RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/solution-wca4z-onprem/flight-logs/atom.xml" title="WCA4Z On-Prem Atom Feed">






<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GB0XWXF3GE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GB0XWXF3GE",{anonymize_ip:!0})</script><link rel="stylesheet" href="/solution-wca4z-onprem/assets/css/styles.284b6b33.css">
<script src="/solution-wca4z-onprem/assets/js/runtime~main.b9e09982.js" defer="defer"></script>
<script src="/solution-wca4z-onprem/assets/js/main.6e28a542.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/solution-wca4z-onprem/"><div class="navbar__logo"><img src="/solution-wca4z-onprem/img/logo.svg" alt="IBM Client Engineering Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="200" width="200"><img src="/solution-wca4z-onprem/img/logo-dark.svg" alt="IBM Client Engineering Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="200" width="200"></div><b class="navbar__title text--truncate">| WCA4Z On-Prem</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/solution-wca4z-onprem/flight-logs">Flight Logs</a><a href="https://github.com/ibm-client-engineering/solution-wca4z-onprem" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/solution-wca4z-onprem/">WCA4Z On-Prem</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/solution-wca4z-onprem/Prepare/learn">Prepare</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/solution-wca4z-onprem/Create/windows_setup">Create</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solution-wca4z-onprem/Create/windows_setup">Windows VM Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/solution-wca4z-onprem/Create/linux_setup">Linux VM Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solution-wca4z-onprem/Create/db2_datagen_setup">Db2 &amp; Data Gen Setup</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/solution-wca4z-onprem/Use Cases/understand">Use Cases</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/solution-wca4z-onprem/Takeaways/lessons-learned">Takeaways</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/solution-wca4z-onprem/Resources/references">Resources</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/solution-wca4z-onprem/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Create</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Linux VM Setup</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Linux VM Setup</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installing-and-setting-up-on-premise-infrastructure">Installing and setting up on premise infrastructure<a href="#installing-and-setting-up-on-premise-infrastructure" class="hash-link" aria-label="Direct link to Installing and setting up on premise infrastructure" title="Direct link to Installing and setting up on premise infrastructure">​</a></h2>
<p>The recommended order for installing and setting up the solution is:</p>
<ol>
<li>Install ADDI in a Windows VM (following the ADDI cookbook this will get you to the
point of setting up the server, front end, and creating a project).</li>
<li>Install Refactoring Assistant in a Linux VM.</li>
<li>Configure the two products to connect securely.</li>
<li>Provision an IBM watsonx Code Assistant service in IBM Cloud, including creating the
Db2 database.</li>
<li>Create an API key to access the watsonx Code Assistant service.</li>
<li>Configure ADDI to use the Cloud Db2 database.</li>
<li>Set up the Data Generator for transformation.</li>
<li>Install Visual Studio Code and add the Z Open Editor extension and Language Support
for Java extension.</li>
<li>Run through the end to end scenario.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installing-addi">Installing ADDI<a href="#installing-addi" class="hash-link" aria-label="Direct link to Installing ADDI" title="Direct link to Installing ADDI">​</a></h2>
<p>As mentioned earlier, the process for Installing ADDI is explained in the ADDI cookbook. After you have installed and set up ADDI, you are ready to install and configure the Refactoring Assistant.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installing-the-refactoring-assistant">Installing the Refactoring Assistant:<a href="#installing-the-refactoring-assistant" class="hash-link" aria-label="Direct link to Installing the Refactoring Assistant:" title="Direct link to Installing the Refactoring Assistant:">​</a></h2>
<ol>
<li>Log in in your RHEL 8.x env via SSH e.g:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token function" style="color:#79b6f2">ssh</span><span class="token plain"> root@</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">your-test-host-name</span><span class="token operator" style="color:#d7deea">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>By default, you are in the /root directory. Download the latest Refactoring Assistant (either directly on the RHEL VM or move it there afterwards).</li>
<li>Extract the tar file:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token function" style="color:#79b6f2">tar</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-xzvf</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">refactoring-assistant_file_version</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain">.tgz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Move the refactoring assistant outside to the root folder<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token function" style="color:#79b6f2">mv</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">path_to_refactoring_assistant</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> /root/refactoring-assistant</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>You should now have a new directory /root/refactoring-assistant. Navigate to that directory there:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token builtin class-name" style="color:#FAC863">cd</span><span class="token plain"> /root/refactoring-assistant</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Run the setup file<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">./setup.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p><strong>You may need to expose port 9443 for the Refactoring Assistant Web UI</strong></p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-refactoring-assistant">Configuring Refactoring Assistant<a href="#configuring-refactoring-assistant" class="hash-link" aria-label="Direct link to Configuring Refactoring Assistant" title="Direct link to Configuring Refactoring Assistant">​</a></h3>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>WAIT!</div><div class="admonitionContent_BuS1"><p>You need an ADDI environment ID before continuing with the RA configuration.</p></div></div>
<ol>
<li>In your RHEL 8.x env go to:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token builtin class-name" style="color:#FAC863">cd</span><span class="token plain"> /root/refactoring-assistant</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Create a configuration from the template by copying and then editng it:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token function" style="color:#79b6f2">cp</span><span class="token plain"> config/template.properties config/config.properties</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Then update config/config.properties as follow:<!-- -->
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockTitle_Ktv7">config.properties</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token constant" style="color:#5a9bcf">CERTS_LOCATION</span><span class="token operator" style="color:#d7deea">=</span><span class="token operator" style="color:#d7deea">/</span><span class="token plain">root</span><span class="token operator" style="color:#d7deea">/</span><span class="token plain">certificate</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token constant" style="color:#5a9bcf">PROTOCOL</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">https</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token constant" style="color:#5a9bcf">AD_HOST_PORT</span><span class="token operator" style="color:#d7deea">=</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics">FQDN </span><span class="token generics class-name" style="color:#FAC863">Address</span><span class="token generics"> of your </span><span class="token generics class-name" style="color:#FAC863">Windows</span><span class="token generics"> VM</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token operator" style="color:#d7deea">:</span><span class="token number" style="color:#5a9bcf">2181</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token constant" style="color:#5a9bcf">ENVIRONMENT_ID</span><span class="token operator" style="color:#d7deea">=</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics class-name" style="color:#FAC863">Your</span><span class="token generics"> ADDI </span><span class="token generics class-name" style="color:#FAC863">Environment</span><span class="token generics"> ID</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token constant" style="color:#5a9bcf">DEX_HOST_PORT</span><span class="token operator" style="color:#d7deea">=</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<p>Important details on these fields.</p>
<ul>
<li><strong>CERTS_LOCATION</strong> - Absolute path to directory where certificates and keys are kept. These items will need to be created</li>
<li><strong>PROTOCOL</strong> - Protocol to use to communicate with AD services</li>
<li><strong>AD_HOST_PORT</strong> - The IBM AD configuration (ZooKeeper) connection string, e.g. &lt;hostname.mydomain.com&gt;:2281 ( use port 2181 if connection is unsecured )</li>
<li><strong>ENVIRONMENT_ID</strong> - The environment ID, which can be obtained from the IBM Application Discovery Configuration Service Admin dashboard, more details on this webpage
<a href="https://www.ibm.com/docs/en/addi/latest?topic=configuring-by-using-ad-configuration-service" target="_blank" rel="noopener noreferrer">https://www.ibm.com/docs/en/addi/latest?topic=configuring-by-using-ad-configuration-service</a></li>
<li><strong>DEX_HOST_PORT</strong> - The location of the DEX authentication server, defaults to $PROTOCOL://$AD_HOST:7600 if unset</li>
</ul>
<p>Additional properties you can add to this file are listed below:</p>
<ul>
<li>Ports of the AD mainframe projects and file services respectively<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">AD_PROJ_PORT=7650</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">AD_FILE_PORT=7700</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Outbound mail settings to enable email notifications<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">MAIL_HOST=</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">MAIL_PORT=</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">MAIL_USERNAME=</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">MAIL_PASSWORD=</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Extra Java mail properties, which can be specified by using MAIL_PROPERTIES_ prefix followed by the property name with dot separators replaced by underscores<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">MAIL_PROPERTIES_MAIL_SMTP_AUTH=true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>If your system has Security-Enhanced Linux (SELinux) feature enabled, you need to add the following additional property<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">RA_MOUNT_OPTIONS=:Z</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<p><em>Make sure you save and confirm your changes.</em></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token function" style="color:#79b6f2">cat</span><span class="token plain"> config/config.properties</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="additional-ra-settings-using-https">Additional RA settings using HTTPS<a href="#additional-ra-settings-using-https" class="hash-link" aria-label="Direct link to Additional RA settings using HTTPS" title="Direct link to Additional RA settings using HTTPS">​</a></h3>
<ol>
<li>In your RHEL 8.x test env go to: cd /root/refactoring-assistant</li>
<li>To prepare the required certificates, run ./start.sh --prepare-only /root/certificate</li>
<li>From /root/certificate, copy the root.crt certificate to your Windows VM<!-- -->
<ol>
<li>In your Windows env, use PowerShell and use a command like this :<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token function" style="color:#79b6f2">scp</span><span class="token plain"> root@</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">your-host-Lin</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain">:/root/certificate/root.crt C:</span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain">Users</span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain">Administrator</span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain">Downloads</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
</li>
<li>Continue with the ADDI setup on section Prepare Security Certificates for ADDI and RA, step #8 - Once completed that section, resume here(you should have the zookeeper certificate by then)</li>
<li>Take the zookeeper.crt certificate, copy it two times and name the copies “ad.crt” and “dex.crt”</li>
<li>Edit the config.properties configuration file to match these conditions:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token assign-left variable" style="color:#d7deea">PROTOCOL</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">https</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Change the port number of AD_HOST_PORT to </span><span class="token number" style="color:#5a9bcf">2281</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Restart RA<!-- -->
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>&lt; stop.sh all &gt; will stop all the services including the database store, deleting all the files in your project. Use &lt; ./stop.sh &gt; without the all flag to stop only the RA service</p></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">./stop.sh all</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">./start.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-addidex">Configure ADDI(DEX)<a href="#configure-addidex" class="hash-link" aria-label="Direct link to Configure ADDI(DEX)" title="Direct link to Configure ADDI(DEX)">​</a></h3>
<ol>
<li>In your ADDI Windows env, go to <a href="https://localhost:9443/ad/admin/configure?tab=environments" target="_blank" rel="noopener noreferrer">https://localhost:9443/ad/admin/configure?tab=environments</a> and locate the ADDI Environment ID</li>
<li>Go to C:\Program Files\IBM Application Discovery and Delivery Intelligence\Authentication Server (DEX)\conf\ and edit the dex.yaml file</li>
<li>Edit the issuer value to be: <code>https://localhost:7600/dex</code></li>
<li>Add the following to the list of static clients:<!-- -->
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">staticClients</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token operator" style="color:#d7deea">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">id</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> refactoring</span><span class="token operator" style="color:#d7deea">-</span><span class="token plain">assistant</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">redirectURIs</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token operator" style="color:#d7deea">-</span><span class="token plain"> https</span><span class="token operator" style="color:#d7deea">:</span><span class="token operator" style="color:#d7deea">/</span><span class="token operator" style="color:#d7deea">/</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics">your RA </span><span class="token generics class-name" style="color:#FAC863">Linux</span><span class="token generics"> hostname</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token operator" style="color:#d7deea">:</span><span class="token number" style="color:#5a9bcf">9443</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">name</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Refactoring</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Assistant</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">secret</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> pkce</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<p>There are further settings for Authentication Server (DEX) in the “Enable Security in ADDI Dashboard” section, for now don’t worry about the status of DEX.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prepare-security-certificates-for-addi-and-ra">Prepare Security Certificates for ADDI and RA<a href="#prepare-security-certificates-for-addi-and-ra" class="hash-link" aria-label="Direct link to Prepare Security Certificates for ADDI and RA" title="Direct link to Prepare Security Certificates for ADDI and RA">​</a></h3>
<ol>
<li>Download and install prerequisites<!-- -->
<ol>
<li>Download the SSL certificate (DigiCertGlobalRootCA) to your Windows VM</li>
<li>You can find the link to download the SSL certificate in the email sent you with your access details in the DB2 section.<!-- -->
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>For an integration test team, look in your <code>\Downloads</code> for something like <code>DigiCertGlobalRootCA_wca4z-int-test-db2-&lt;-suffix&gt;.crt</code></p></div></div>
</li>
</ol>
</li>
<li>Generate a public and private key pair using the Java keytool utility:<!-- -->
<ol>
<li>Open a command prompt terminal and navigate to the Downloads directory</li>
<li>Replace the FQDN of your Windows VM in the command below and execute it.<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">keytool </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token parameter variable" style="color:#d7deea">-genkeypair</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token parameter variable" style="color:#d7deea">-alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;&lt;FQDN of your Windows VM&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token parameter variable" style="color:#d7deea">-keyalg</span><span class="token plain"> RSA </span><span class="token parameter variable" style="color:#d7deea">-keysize</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">2048</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token parameter variable" style="color:#d7deea">-dname</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;cn=&lt; FQDN of your Windows VM&gt;&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token parameter variable" style="color:#d7deea">-keypass</span><span class="token plain"> password </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token parameter variable" style="color:#d7deea">-keystore</span><span class="token plain"> server_keystore.p12 </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token parameter variable" style="color:#d7deea">-storepass</span><span class="token plain"> password </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token parameter variable" style="color:#d7deea">-storetype</span><span class="token plain"> PKCS12 </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token parameter variable" style="color:#d7deea">-ext</span><span class="token plain"> BasicConstraints:critical</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">ca:true </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token parameter variable" style="color:#d7deea">-ext</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#d7deea">san</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">dns:</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">FQDN of your Windows VM</span><span class="token operator" style="color:#d7deea">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>By default, such certificates are valid for only 90 days. Passing an additional argument <code>-validity 366</code> will extend the validity of the self-signed certificate to a year (in general: to the given number of days)</p></div></div>
</li>
</ol>
<!-- -->A keystore file should be generated. <strong>Example location:</strong> <code>C:\Users\Administrator\Downloads\server_keystore.p12</code></li>
<li>Export the certificate:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">keytool </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token parameter variable" style="color:#d7deea">-exportcert</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token parameter variable" style="color:#d7deea">-alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;&lt;FQDN of your Windows VM&gt;&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token parameter variable" style="color:#d7deea">-keystore</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;server_keystore.p12&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token parameter variable" style="color:#d7deea">-file</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;server_certificate.crt&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token parameter variable" style="color:#d7deea">-storepass</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;password&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->You should get certificate stored in file <code>&lt;server_certificate.crt&gt;</code> in the directory you&#x27;re working on.</li>
<li>Re-import the certificate into the keystore:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">keytool </span><span class="token parameter variable" style="color:#d7deea">-keystore</span><span class="token plain"> server_keystore.p12 </span><span class="token parameter variable" style="color:#d7deea">-import</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-file</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;server_certificate.crt&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;self-signed-root&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Enter keystore password: </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">”password” is your password</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Certificate already exists </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> keystore under </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">FQDN of VM</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Do you still want to </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> it? </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">no</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain">: </span><span class="token function" style="color:#79b6f2">yes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->You should recieve a prompt stating: <code>&quot;Certificate was added to keystore&quot;</code></li>
<li>Use the openSSL command prompt to generate the server.key file:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">openssl pkcs12 </span><span class="token parameter variable" style="color:#d7deea">-in</span><span class="token plain"> server_keystore.p12 </span><span class="token parameter variable" style="color:#d7deea">-nocerts</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-nodes</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-out</span><span class="token plain"> server.key</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Enter Import Password: password</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->A server key file should be generated. <strong>Example location:</strong> <code>C:\Users\Administrator\Downloads\server.key</code></li>
<li>To generate the server_certificate.crt file run the following command:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">keytool </span><span class="token parameter variable" style="color:#d7deea">-list</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-keystore</span><span class="token plain"> server_keystore.p12 </span><span class="token parameter variable" style="color:#d7deea">-rfc</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> server_certificate.crt</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Enter Keystore Password: password</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Import the Db2 SSL certificate into the keystore:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">keytool </span><span class="token parameter variable" style="color:#d7deea">-import</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-trustcacerts</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;DB2-ssl-cert&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-file</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">path to the DigiCertGlobalRootCA downloaded from Db</span><span class="token operator file-descriptor important" style="color:#d7deea;font-weight:400">2</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-keystore</span><span class="token plain"> server_keystore.p12 </span><span class="token parameter variable" style="color:#d7deea">-storepass</span><span class="token plain"> password</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Certificate already exists </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> system-wide CA keystore under </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">digicertglobalrootca </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">jdk</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Do you still want to </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> it to your own keystore? </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">no</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain">: </span><span class="token function" style="color:#79b6f2">yes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Certificate was added to keystore</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>Import the root.crt into the keystore - You can download root.crt from your RA Linux machine to your Windows env with the command:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token function" style="color:#79b6f2">scp</span><span class="token plain"> root@</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">your-host-Win</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain">:/root/certificate/root.crt C:</span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain">Users</span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain">Administrator</span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain">Downloads</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">keytool </span><span class="token parameter variable" style="color:#d7deea">-importcert</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-alias</span><span class="token plain"> ad-core-server </span><span class="token parameter variable" style="color:#d7deea">-keystore</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;server_keystore.p12&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-file</span><span class="token plain"> root.crt </span><span class="token parameter variable" style="color:#d7deea">-storepass</span><span class="token plain"> password </span><span class="token parameter variable" style="color:#d7deea">-ext</span><span class="token plain"> BasicConstraints:critical</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">ca:true </span><span class="token parameter variable" style="color:#d7deea">-ext</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#d7deea">san</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">dns:</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">FQDN of your Windows VM</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Trust this certificate? </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">no</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain">: </span><span class="token function" style="color:#79b6f2">yes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
</li>
<li>Install the DigiCertGlobalRootCA, the <code>server_certificate.crt</code> and the <code>root.crt</code> (from the RA setup) into the Windows VM’s trusted root certificate authorities.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="for-all-three-certificates">For all three certificates:<a href="#for-all-three-certificates" class="hash-link" aria-label="Direct link to For all three certificates:" title="Direct link to For all three certificates:">​</a></h4>
<ol>
<li>Right-click the certificate and select <code>Install certificate</code></li>
<li>If <code>Security Warning</code> is displayed, select <code>Open</code>, otherwise continue with the next step</li>
<li>Select <code>Local Machine</code>, select <code>Next</code></li>
<li>Select  <code>Place all certificates in the following store</code></li>
<li>Click <code>Browse…</code></li>
<li>Select <code>Trusted Root certificate authorities</code></li>
<li>Click <code>OK</code>, then <code>Next</code></li>
<li>Click <code>Finish</code> ( you’ll see pop up alert stating “The import was successful.” )<!-- -->
<ol>
<li>The pop-up message takes some time. to be displayed. Select <code>OK</code>.</li>
</ol>
</li>
<li>Install the <code>DigiCertGlobalRootCA</code>, the <code>server_certificate.crt</code> and the <code>root.crt</code> into Java’s cacerts keystore:<!-- -->
<ol>
<li>Open a command prompt in the directory containing the new <code>server_keystore.p12</code></li>
<li>Enter the following command to import all certificates from the server_keystore into the cacerts keystore:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">    keytool </span><span class="token parameter variable" style="color:#d7deea">-importkeystore</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-srckeystore</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;server_keystore.p12&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-srcstorepass</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;password&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-destkeystore</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;%JAVA_HOME%\lib\security</span><span class="token string entity" style="color:#d7deea">\c</span><span class="token string" style="color:#8dc891">acerts&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-deststorepass</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;changeit&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    Importing keystore server_keystore.p12 to C:</span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain">Program</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    Files</span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain">OpenLogic</span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain">jre-11.0.20.8-hotspot</span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain">lib</span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain">security</span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain">cacerts</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    Entry </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">…hostname…</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> successfully imported.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    Entry </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> self-signed-root successfully imported.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    Entry </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> db2-ssl-cert successfully imported.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    Entry </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> ad-core-server successfully imported.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    Import </span><span class="token builtin class-name" style="color:#FAC863">command</span><span class="token plain"> completed: </span><span class="token number" style="color:#5a9bcf">4</span><span class="token plain"> entries successfully imported, </span><span class="token number" style="color:#5a9bcf">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    entries failed or cancelled</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>cacerts location could be different depending on your Java installation. In Openlogic Java 11 the cacerts are found in</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">%JAVA_HOME%\lib\security\cacerts v/s</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">%JAVA_HOME%\jre\lib\security\cacerts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
</li>
<li>From the ADDI dashboard ( <code>https://localhost:9443/ad/admin/dashboard</code> ), restart the “Configuration service”</li>
</ol>
</li>
<li>Get the <code>zookeeper.crt</code> certificate<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">keytool </span><span class="token parameter variable" style="color:#d7deea">-exportcert</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;&lt;FQDN of your Windows VM&gt;&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-keystore</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;server_keystore.p12&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-rfc</span><span class="token plain"> </span><span class="token parameter variable" style="color:#d7deea">-file</span><span class="token plain"> zookeeper.crt </span><span class="token parameter variable" style="color:#d7deea">-storepass</span><span class="token plain"> password </span><span class="token parameter variable" style="color:#d7deea">-ext</span><span class="token plain"> BasicConstraints:critical</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">ca:true </span><span class="token parameter variable" style="color:#d7deea">-ext</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#d7deea">san</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">dns:</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">FQDN of your Windows VM</span><span class="token operator" style="color:#d7deea">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Copy the <code>zookeeper.crt</code> file to <code>/root/certificate</code> on your RHEL VM.<!-- -->
<ol>
<li>From your Windows env, you can upload <code>zookeeper.crt</code> with the following command on PowerShell terminal:<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token function" style="color:#79b6f2">scp</span><span class="token plain"> C:</span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain">Users</span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain">Administrator</span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain">Downloads</span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain">zookeeper.crt root@</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">Your-Linux-FQDN</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain">:/root/certificate/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
</li>
</ol>
<p>At this point you’re ready to finish setting up the HTTPS connection and certificates for the Refactoring Assistant.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="finishing-the-configuration-of-refactoring-assistant-to-use-https">Finishing the configuration of Refactoring Assistant to use HTTPS<a href="#finishing-the-configuration-of-refactoring-assistant-to-use-https" class="hash-link" aria-label="Direct link to Finishing the configuration of Refactoring Assistant to use HTTPS" title="Direct link to Finishing the configuration of Refactoring Assistant to use HTTPS">​</a></h3>
<ol>
<li>Take the <code>zookeeper.crt</code> certificate, copy it two times and name the copies <code>ad.crt</code> and <code>dex.crt</code></li>
<li>Restart RA<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">./stop.sh all</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">./start.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>When asked for the OrientDB password, enter <code>inittest</code></li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="enabling-security-in-the-addi-dashboard">Enabling security in the ADDI Dashboard<a href="#enabling-security-in-the-addi-dashboard" class="hash-link" aria-label="Direct link to Enabling security in the ADDI Dashboard" title="Direct link to Enabling security in the ADDI Dashboard">​</a></h2>
<ol>
<li>In the ADDI dashboard, go to <code>Configure</code> -&gt; <code>&lt;environment-name&gt;</code> -&gt; <code>General</code> and check that the “IP or host” field has the FQDN of your Windows VM</li>
<li>Next, go to <code>Servers and security</code> -&gt; <code>Security</code></li>
<li>Select <code>Protocol</code> type <code>HTTPS</code></li>
<li>Drag and drop the below files from your Windows File Explorer to your web browser under the Security and certificate files<!-- -->
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">server_keystore.p12</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">server.key</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">server_certificate.crt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>After selecting the files, enter “password” for the keystore password</li>
<li>Click <code>Save</code> then <code>OK</code> ( this step may take some time)</li>
<li>Your dex.yaml file should now looks like this:<!-- -->
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockTitle_Ktv7">dex.yaml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">schemaVersion</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">issuer</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain">7600/dex</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">storage</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">type</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> sqlite3</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">config</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">file</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> dex.db</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">frontend</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">theme</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> addi</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">web</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">https</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> 0.0.0.0</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token number" style="color:#5a9bcf">7600</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">TLSCert</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> C</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain">\Program Files\IBM Application Discovery and Delivery</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        Intelligence\security\&lt;…hash</span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain">path</span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain">goes</span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain">here…</span><span class="token punctuation" style="color:#8dc891">&gt;</span><span class="token plain">\server_certificate.crt</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">TLSKey</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> C</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain">\Program Files\IBM Application Discovery and Delivery</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        Intelligence\security\&lt;…hash</span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain">path</span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain">goes</span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain">here…</span><span class="token punctuation" style="color:#8dc891">&gt;</span><span class="token plain">\server.key</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">oauth2</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">skipApprovalScreen</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#ff8b50;font-weight:400">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">passwordConnector</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> ldap</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">connectors</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">staticClients</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">id</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> refactoring</span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain">assistant</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">redirectURIs</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain"> https</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain">//&lt;your RA Linux FQDN</span><span class="token punctuation" style="color:#8dc891">&gt;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token number" style="color:#5a9bcf">9443</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">name</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> Refactoring Assistant</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">secret</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> pkce</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">enablePasswordDB</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#ff8b50;font-weight:400">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">staticPasswords</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">email</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> tester@servicedesigner.com</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">hash</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> $2a$12$m2dGtrCtc320uPbjgIOydeYxjePRhPU3WZ34z4CF.iK7oiYcEwRwe</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">username</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token null important" style="font-weight:400">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token key atrule" style="color:#FAC863">userID</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token null important" style="font-weight:400">null</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If your DEX service does not start, have a look at <code>C:\Program Files\IBM Application Discovery and Delivery Intelligence\Authentication Server (DEX)\dex.log</code></p></div></div>
</li>
<li>Restart services by navigating to the ADDI dashboard and selecting the three dots next to the service.<!-- -->
<ol>
<li>From the ADDI dashboard restart the following:<!-- -->
<ol>
<li>Authentication Server (DEX)</li>
<li>File Service</li>
</ol>
</li>
<li>From the start menu, find and open the Services system app</li>
<li>Select <code>IBM Application Discovery WebSphere Liberty Profile Service</code> and restart it (the ADDI dashboard might be unavailable even some time after the WebSphere Liberty Service is shown as Running again)</li>
</ol>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-ad-analyze-for-tls">Configuring AD Analyze for TLS<a href="#configuring-ad-analyze-for-tls" class="hash-link" aria-label="Direct link to Configuring AD Analyze for TLS" title="Direct link to Configuring AD Analyze for TLS">​</a></h2>
<p>By default, the IBM AD Analyze Client runs in unencrypted mode. The ADDI cookbook doesn’t cover steps to use TLS support. So if you want to securely connect to the server from the IBM AD Analyze Client with TLS support, you need to perform the following steps:</p>
<ol>
<li>Make sure HTTPS is configured from the Security Page in the IBM ADDI Dashboard.</li>
<li>Close the Eclipse Analyze Client</li>
<li>Go to the location where you unzipped the Eclipse package, for example <code>C:\eclipse</code></li>
<li>Open <code>eclipse.ini</code> file and add the following lines, in the <code>-vmargs</code> section (if vmargs section is missing you can add new one). <strong>Avoid blank lines in the <code>-vmargs</code> section.</strong>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockTitle_Ktv7">eclipse.ini -vmargs</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token operator" style="color:#d7deea">-</span><span class="token class-name" style="color:#FAC863">Dzookeeper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">secure</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token operator" style="color:#d7deea">-</span><span class="token class-name" style="color:#FAC863">Dzookeeper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ssl</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">keyStore</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">location</span><span class="token operator" style="color:#d7deea">=</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics">the location on disk where the keystore was stored</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token operator" style="color:#d7deea">-</span><span class="token class-name" style="color:#FAC863">Dzookeeper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ssl</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">keyStore</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">password</span><span class="token operator" style="color:#d7deea">=</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics">keystore password</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token operator" style="color:#d7deea">-</span><span class="token class-name" style="color:#FAC863">Dzookeeper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ssl</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">trustStore</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">location</span><span class="token operator" style="color:#d7deea">=</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics">the location on disk where the truststore was stored</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token operator" style="color:#d7deea">-</span><span class="token class-name" style="color:#FAC863">Dzookeeper</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ssl</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">trustStore</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">password</span><span class="token operator" style="color:#d7deea">=</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics">truststore password</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token operator" style="color:#d7deea">-</span><span class="token class-name" style="color:#FAC863">Dclient</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ssl</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">enabled</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token operator" style="color:#d7deea">-</span><span class="token class-name" style="color:#FAC863">Djavax</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">net</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ssl</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">keyStore</span><span class="token operator" style="color:#d7deea">=</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics">the location on disk where the keystore was stored</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token operator" style="color:#d7deea">-</span><span class="token class-name" style="color:#FAC863">Djavax</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">net</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ssl</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">keyStorePassword</span><span class="token operator" style="color:#d7deea">=</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics">keystore password</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token operator" style="color:#d7deea">-</span><span class="token class-name" style="color:#FAC863">Djavax</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">net</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ssl</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">trustStore</span><span class="token operator" style="color:#d7deea">=</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics">the location on disk where the truststore was stored</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token operator" style="color:#d7deea">-</span><span class="token class-name" style="color:#FAC863">Djavax</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">net</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ssl</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">trustStorePassword</span><span class="token operator" style="color:#d7deea">=</span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics">truststore password</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The security keystore you add to Analyze Client needs to be configured with the Fully Qualified Domain Name of the Server VM in the Subject (CN) and Subject Alternative Name (SAN) fields. If IP address is used with the security certs then you might hit the following error message in Analyze Client:
<code>Caused by: java.security.cert.CertificateException: No subject alternative names matching IP address 9.46.97.193 found</code></p></div></div>
</li>
<li>Save and close the file</li>
<li>Restart Eclipse/Analyze Client</li>
<li>In Eclipse go to <code>Window</code> -&gt; <code>Preferences</code> -&gt; <code>Application Discovery</code> -&gt; <code>Environment</code> sections</li>
<li>Update below data with TLS information (You can get Environment ID and Name from the ADDI Dashboard in the Configure tab):<!-- -->
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token class-name" style="color:#FAC863">Host</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics">FQDN of the </span><span class="token generics class-name" style="color:#FAC863">Windows</span><span class="token generics"> VM</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">Port</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">2281</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">Unique</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">ID</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics">ADDI </span><span class="token generics class-name" style="color:#FAC863">Environment</span><span class="token generics"> ID</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token class-name" style="color:#FAC863">Name</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token generics punctuation" style="color:#8dc891">&lt;</span><span class="token generics">ADDI </span><span class="token generics class-name" style="color:#FAC863">Environment</span><span class="token generics"> </span><span class="token generics class-name" style="color:#FAC863">Name</span><span class="token generics punctuation" style="color:#8dc891">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Restart Eclipse/Analyze Client</li>
</ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/solution-wca4z-onprem/Create/windows_setup"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Windows VM Setup</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/solution-wca4z-onprem/Create/db2_datagen_setup"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Db2 &amp; Data Gen Setup</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installing-and-setting-up-on-premise-infrastructure" class="table-of-contents__link toc-highlight">Installing and setting up on premise infrastructure</a></li><li><a href="#installing-addi" class="table-of-contents__link toc-highlight">Installing ADDI</a></li><li><a href="#installing-the-refactoring-assistant" class="table-of-contents__link toc-highlight">Installing the Refactoring Assistant:</a><ul><li><a href="#configuring-refactoring-assistant" class="table-of-contents__link toc-highlight">Configuring Refactoring Assistant</a></li><li><a href="#additional-ra-settings-using-https" class="table-of-contents__link toc-highlight">Additional RA settings using HTTPS</a></li><li><a href="#configure-addidex" class="table-of-contents__link toc-highlight">Configure ADDI(DEX)</a></li><li><a href="#prepare-security-certificates-for-addi-and-ra" class="table-of-contents__link toc-highlight">Prepare Security Certificates for ADDI and RA</a><ul><li><a href="#for-all-three-certificates" class="table-of-contents__link toc-highlight">For all three certificates:</a></li></ul></li><li><a href="#finishing-the-configuration-of-refactoring-assistant-to-use-https" class="table-of-contents__link toc-highlight">Finishing the configuration of Refactoring Assistant to use HTTPS</a></li></ul></li><li><a href="#enabling-security-in-the-addi-dashboard" class="table-of-contents__link toc-highlight">Enabling security in the ADDI Dashboard</a></li><li><a href="#configuring-ad-analyze-for-tls" class="table-of-contents__link toc-highlight">Configuring AD Analyze for TLS</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Explore</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.ibm.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM</a></li><li class="footer__item"><a href="https://www.ibm.com/client-engineering" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM Client Engineering</a></li><li class="footer__item"><a href="https://github.com/ibm-client-engineering" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM Client Engineering Solutions Hub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://ibm.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="https://www.ibm.com/brand/experience-guides/developer/8f4e3cc2b5d52354a6d43c8edba1e3c9/02_8-bar-reverse.svg" alt="IBM Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="200" height="150"><img src="https://www.ibm.com/brand/experience-guides/developer/8f4e3cc2b5d52354a6d43c8edba1e3c9/02_8-bar-reverse.svg" alt="IBM Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="200" height="150"></a></div></div></div></footer></div>
</body>
</html>